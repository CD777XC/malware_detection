from fastapi import FastAPI
from malware_detection.test_file import model_test

# Declaring app name
malware_detector=FastAPI()

# Define app root endpoint
@malware_detector.get('/')
def index():
    return {'Project name': 'Malware detector',
            'Description': 'Malware detection model to flag potential malware files on given files descriptions'}


@malware_detector.get('/predict')
def predict():
    score, precision = model_test()
    return {'Model score': round(score, 4),
            'Model precision': round(precision, 4)}
