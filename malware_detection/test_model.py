import pandas as pd
import joblib

X_new = {
  "Characteristics": [258, 258, 258, 290, 290, 290, 290, 290, 290, 290],
  "Subsystem": [2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
  "MinorImageVersion": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  "ExportNb": [6, 4, 0, 6, 13, 0, 0, 0, 9, 10],
  "VersionInformationSize": [18, 18, 16, 16, 15, 15, 15, 15, 18, 16],
  "ImageBase": [771751936, 771751936, 4194304, 4194304, 4194304, 4194304, 4194304, 4194304, 4194304, 4194304],
  "SizeOfStackReserve": [33088, 33088, 34112, 33088, 33088, 33088, 33088, 33088, 33088, 33088],
  "ResourcesMinSize": [90, 849, 104, 52, 94, 94, 716, 1424, 20, 40]
}

index = [f'File{i+1}' for i in range(10)]

X_new_df = pd.DataFrame(X_new, index=index)

model = joblib.load('models/malware_detection_v1.pkl')

predictions = model.predict(X_new_df)

print(X_new_df)
print(predictions.tolist())

